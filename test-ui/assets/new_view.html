<!DOCTYPE html>
<html>
  <head>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&display=swap");

      :root {
        --neo-background: #f4f4f4;
        --neo-text: #000000;
        --neo-accent: #ff2e2e;
        --neo-border: #000000;
        --neo-shadow: 4px 4px 0px #000000;
      }

      @media (prefers-color-scheme: dark) {
        :root {
          --neo-background: #1a1a1a;
          --neo-text: #ffffff;
          --neo-accent: #ff4545;
          --neo-border: #ffffff;
          --neo-shadow: 4px 4px 0px #ffffff;
        }
      }

      * {
        box-sizing: border-box;
        font-family: "Space Grotesk", sans-serif;
      }

      html,
      body {
        margin: 0;
        /* padding: 16px; */
        background: var(--neo-background) !important;
        -webkit-app-region: drag;
        height: 100vh;
        width: 100vw;
        /* overflow: hidden; */
        color: var(--neo-text);
        /* max-width: 300px; */
        /* display: flex; */
      }

      .newview-form {
        display: flex;
        flex-direction: column;
        gap: 4px;
        width: 100%;
        height: 100%;
        /* overflow: hidden; */
        padding: 16px;
        justify-content: center;
        align-items: center;
        max-width: 300px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        /* gap: 8px; */
        padding-bottom: 8px;
        width: 100%;
      }

      .form-label {
        font-size: 14px;
        font-weight: 600;
        color: var(--neo-text);
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .newview-form-input {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid var(--neo-border);
        border-radius: 0;
        background: var(--neo-background) !important;
        color: var(--neo-text);
        font-size: 16px;
        -webkit-app-region: no-drag;
        transition: all 0.2s ease;
        box-shadow: var(--neo-shadow);
      }

      .newview-form-input::placeholder {
        color: var(--neo-text);
        opacity: 0.5;
      }

      .newview-form-input:focus {
        outline: none;
        transform: translate(-2px, -2px);
        box-shadow: 6px 6px 0px var(--neo-border);
      }

      .newview-form-button {
        margin-top: 16px;
        padding: 12px 24px;
        border: 2px solid var(--neo-border);
        border-radius: 0;
        background: var(--neo-accent) !important;
        color: var(--neo-background);
        font-size: 16px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        cursor: pointer;
        transition: all 0.2s ease;
        -webkit-app-region: no-drag;
        box-shadow: var(--neo-shadow);
        width: 100%;
      }

      .newview-form-button:hover {
        transform: translate(-2px, -2px);
        box-shadow: 6px 6px 0px var(--neo-border);
      }

      .newview-form-button:active {
        transform: translate(2px, 2px);
        box-shadow: none;
      }

      .newview-form-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="newview-form-container">
      <div class="newview-form">
        <div class="form-group">
          <label class="form-label" for="url">URL</label>
          <input
            class="newview-form-input"
            type="text"
            id="url"
            placeholder="Type website URL here"
            spellcheck="false"
            autocomplete="off"
            contenteditable="true"
          />
        </div>
        <div class="form-group">
          <label class="form-label" for="title">Title</label>
          <input
            class="newview-form-input"
            type="text"
            id="title"
            placeholder="Name this view"
            spellcheck="false"
            autocomplete="off"
            contenteditable="true"
          />
        </div>
        <div class="form-group">
          <label class="form-label" for="refresh-interval">Refresh Every</label>
          <input
            class="newview-form-input"
            type="number"
            id="refresh-interval"
            placeholder="Seconds between refreshes"
            min="1"
            value="60"
            spellcheck="false"
            autocomplete="off"
          />
        </div>
        <button class="newview-form-button" onclick="add()">Add View â†’</button>
      </div>
    </div>
    <script>
      // Make sure inputs are not draggable
      document.querySelectorAll(".newview-form-input").forEach((input) => {
        input.addEventListener("mousedown", (e) => {
          e.stopPropagation();
        });
      });

      function add() {
        window.ipc.postMessage(
          JSON.stringify({
            add: {
              url: document.getElementById("url").value || "",
              refresh_interval:
                parseInt(document.getElementById("refresh-interval").value) ||
                60,
              title: document.getElementById("title").value || "",
            },
          })
        );
      }
    </script>
  </body>
</html>
